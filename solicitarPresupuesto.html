<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solicitar Presupuesto | Prigma</title>
    <!-- Favicon moderno (PNG/SVG) -->
    <link rel="icon" href="/assets/img/logos/favicon.svg" type="image/png">
    <!-- Para Apple -->
    <link rel="apple-touch-icon" href="/assets/img/logos/apple-touch-icon.png">
    <!-- Configuración Android/Chrome -->
    <link rel="manifest" href="/assets/img/logos/site.webmanifest">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/formularioPresupuesto.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="nav-container">
        <nav>
            <a href="/" class="logo">
                <div class="logo-icon"><img src="/assets/img/logos /favicon-96x96.png" alt="Logo Prigma"></div>
                Prigma
            </a>
            <button class="menu-button" id="menuButton">☰</button>
            <ul class="nav-list" id="navList">
                <li><a href="index.html#services">Servicios</a></li>
                <li><a href="index.html#projects">Proyectos</a></li>
                <li><a href="index.html#contact">Contacto</a></li>
                <li><a href="/solicitarPresupuesto.html#" class="cta-button">Solicitar Presupuesto</a></li>
            </ul>
        </nav>
    </div>

    <!-- Sección Hero para Presupuesto -->
    <section class="hero budget-hero">
        <div class="hero-content">
            <h2>Obtén un presupuesto personalizado para tu proyecto</h2>
            <h3>Completa el formulario y recibe una propuesta adaptada a tus necesidades en menos de 48 horas</h3>
        </div>
    </section>

    <!-- Formulario de Presupuesto -->
    <section class="budget-form-section">
        <div class="budget-form-container">
            <div class="budget-form-intro">
                <h2 class="section-title">Solicitud de Presupuesto</h2>
                <p class="section-subtitle">Proporciona los detalles de tu proyecto y te enviaremos una estimación personalizada sin compromiso.</p>
                
                <div class="budget-benefits">
                    <div class="benefit-card">
                        <div class="benefit-icon"><i class="fas fa-bolt"></i></div>
                        <h4>Respuesta rápida</h4>
                        <p>Recibe tu presupuesto en menos de 48 horas hábiles</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon"><i class="fas fa-lock"></i></div>
                        <h4>Confidencialidad</h4>
                        <p>Tus datos y proyecto están protegidos por nuestro acuerdo de confidencialidad</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon"><i class="fas fa-handshake"></i></div>
                        <h4>Sin compromiso</h4>
                        <p>La solicitud no te obliga a contratar nuestros servicios</p>
                    </div>
                </div>
            </div>

            <form id="budgetForm" class="budget-form">
                <div class="form-step active" id="step1">
                    <h3 class="form-step-title">Información básica</h3>
                    
                    <div class="form-group">
                        <label for="budgetName" class="form-label">Nombre completo*</label>
                        <input name="name" type="text" id="budgetName" class="form-input" placeholder="Tu nombre completo" required>
                    </div>

                    <div class="form-group">
                        <label for="budgetEmail" class="form-label">Email*</label>
                        <input name="email" type="email" id="budgetEmail" class="form-input" placeholder="tu@email.com" required>
                    </div>

                    <div class="form-group">
                        <label for="budgetCompany" class="form-label">Empresa/Organización</label>
                        <input name="company" type="text" id="budgetCompany" class="form-input" placeholder="Nombre de tu empresa" required>
                    </div>

                    <div class="form-group">
                        <label for="budgetPhone" class="form-label">Teléfono</label>
                        <input name="phone" type="tel" id="budgetPhone" class="form-input" placeholder="+57" required>
                    </div>

                    <div class="form-navigation">
                        <button type="button" class="next-step secondary-button">Siguiente <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="form-step" id="step2">
                    <h3 class="form-step-title">Detalles del proyecto</h3>
                    
                    <div class="form-group">
                        <label for="budgetService" class="form-label">Servicio requerido*</label>
                        <select name="service" id="budgetService" class="form-input" required>
                            <option value="">Selecciona un servicio</option>
                            <option value="custom-development">Desarrollo a Medida</option>
                            <option value="mobile-apps">Aplicaciones Móviles</option>
                            <option value="system-integration">Integración de Sistemas</option>
                            <option value="web-solutions">Soluciones Web</option>
                            <option value="business-intelligence">Business Intelligence</option>
                            <option value="cybersecurity">Ciberseguridad</option>
                            <option value="multiple">Varios servicios</option>
                            <option value="other">Otro (especificar en descripción)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="budgetDeadline" class="form-label">Fecha límite estimada</label>
                        <input name="deadline" type="date" id="budgetDeadline" class="form-input">
                    </div>

                    <div class="form-group">
                        <label for="budgetDescription" class="form-label">Descripción del proyecto*</label>
                        <textarea name="description" id="budgetDescription" class="form-textarea" placeholder="Describe en detalle tu proyecto, requisitos, funcionalidades deseadas, etc." required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="budgetFiles" class="form-label">Documentos adjuntos</label>
                        <input name="attachments" type="file" id="budgetFiles" class="form-input" multiple>
                        <small class="form-hint">Puedes adjuntar documentos, imágenes, wireframes, etc. (Máx. 10MB)</small>
                    </div>

                    <div class="form-navigation">
                        <button type="button" class="prev-step secondary-button"><i class="fas fa-arrow-left"></i> Anterior</button>
                        <button type="button" class="next-step secondary-button">Siguiente <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div class="form-step" id="step3">
                    <h3 class="form-step-title">Preferencias y presupuesto</h3>
                    
                    <div class="form-group">
                        <label class="form-label">¿Tienes un presupuesto estimado?</label>
                        <div class="budget-options">
                            <label class="budget-option">
                                <input type="radio" name="budgetRange" value="0-5000">
                                <span>Menos de 1.000.000$</span>
                            </label>
                            <label class="budget-option">
                                <input type="radio" name="budgetRange" value="5000-15000">
                                <span> 1.000.000$ - 3.000.000$</span>
                            </label>
                            <label class="budget-option">
                                <input type="radio" name="budgetRange" value="15000-30000">
                                <span>3.000.000$ - 7.000.000$</span>
                            </label>
                            <label class="budget-option">
                                <input type="radio" name="budgetRange" value="30000+">
                                <span>Más de 7.000.000$</span>
                            </label>
                            <label class="budget-option">
                                <input type="radio" name="budgetRange" value="unknown">
                                <span>No lo sé</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="budgetPreferences" class="form-label">Preferencias técnicas (opcional)</label>
                        <textarea name="preferences" id="budgetPreferences" class="form-textarea" placeholder="Tecnologías específicas, plataformas, requisitos especiales, etc."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="budgetTimeline" class="form-label">Plazos importantes</label>
                        <input name="timeline" type="text" id="budgetTimeline" class="form-input" placeholder="Fases clave, hitos, etc.">
                    </div>

                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="budgetAgreement" required>
                        <label name="agreement" for="budgetAgreement">Acepto la <a href="#">política de privacidad</a> y el tratamiento de mis datos para recibir el presupuesto*</label>
                    </div>

                    <div class="form-navigation">
                        <button type="button" class="prev-step secondary-button"><i class="fas fa-arrow-left"></i> Anterior</button>
                        <button type="submit" id="budgetBtn" class="form-submit">Enviar Solicitud <i class="fas fa-paper-rigth"></i></button>
                    </div>
                </div>

                <div class="form-progress">
                    <div class="progress-step active" data-step="1"></div>
                    <div class="progress-step" data-step="2"></div>
                    <div class="progress-step" data-step="3"></div>
                </div>
            </form>
        </div>
    </section>

    <!-- Sección de garantías -->
    <section class="guarantees">
        <div class="guarantees-container">

            <div class="guarantees-grid">
                <div class="guarantee-card">
                    <div class="guarantee-icon"><i class="fas fa-euro-sign"></i></div>
                    <h3>Sin coste inicial</h3>
                    <p>Elaboramos tu presupuesto sin ningún coste ni compromiso por tu parte.</p>
                </div>
                
                <div class="guarantee-card">
                    <div class="guarantee-icon"><i class="fas fa-search"></i></div>
                    <h3>Análisis detallado</h3>
                    <p>Estudiaremos tu proyecto en profundidad para ofrecerte la mejor solución.</p>
                </div>
                
                <div class="guarantee-card">
                    <div class="guarantee-icon"><i class="fas fa-file-contract"></i></div>
                    <h3>Presupuesto claro</h3>
                    <p>Recibirás un documento detallado con costes desglosados y plazos estimados.</p>
                </div>
                
                <div class="guarantee-card">
                    <div class="guarantee-icon"><i class="fas fa-headset"></i></div>
                    <h3>Soporte post-venta</h3>
                    <p>Estaremos disponibles para resolver cualquier duda sobre tu presupuesto.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-main">
                <div class="footer-column">
                    <div class="footer-logo">
                        <div class="logo-icon"><img src="/assets/img/logos /favicon-96x96.png" alt="Logo Prigma"></div>
                        Prigma
                    </div>
                    <p class="footer-about">Somos especialistas en desarrollo de software a medida para empresas que buscan potenciar su negocio a través de la tecnología.</p>
                    <div class="social-links-container">
                        <div class="social-links">
                            <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                        <div class="social-links">
                            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-tiktok"></i></a>
                        </div>
                    </div>
                </div>

                <div class="footer-column">
                    <h6>Legal</h6>
                    <ul>
                        <li><a href="#">Términos y Condiciones</a></li>
                        <li><a href="#">Política de Privacidad</a></li>
                        <li><a href="#">Política de Cookies</a></li>
                        <li><a href="#">Aviso Legal</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>© 2025 Prigma. Todos los derechos reservados.</p>
                <div class="footer-bottom-links">
                    <a href="#">Mapa del Sitio</a>
                    <a href="#">Accesibilidad</a>
                    <a href="#">Configuración de Cookies</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Botón para scroll to top -->
    <div class="scroll-top" id="scrollTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script src="/js/index.js"></script>
    <script type="module" src="/js/envioFormularios.js"></script>
    <script>
        // Script para el formulario de presupuesto
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('budgetForm');
            const steps = form.querySelectorAll('.form-step');
            const nextButtons = form.querySelectorAll('.next-step');
            const prevButtons = form.querySelectorAll('.prev-step');
            const progressSteps = form.querySelectorAll('.progress-step');
            
            let currentStep = 0;
            
            // Mostrar el primer paso
            showStep(currentStep);
            
            // Eventos para botones Siguiente
            nextButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Validar el paso actual antes de avanzar
                    if(validateStep(currentStep)) {
                        currentStep++;
                        showStep(currentStep);
                        updateProgress();
                    }
                });
            });
            
            // Eventos para botones Anterior
            prevButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    currentStep--;
                    showStep(currentStep);
                    updateProgress();
                });
            });
            
            // Función para mostrar un paso específico
            function showStep(stepIndex) {
                steps.forEach((step, index) => {
                    if(index === stepIndex) {
                        step.classList.add('active');
                    } else {
                        step.classList.remove('active');
                    }
                });
            }
            
            // Función para validar el paso actual
            function validateStep(stepIndex) {
                const currentStep = steps[stepIndex];
                const inputs = currentStep.querySelectorAll('input[required], select[required], textarea[required]');
                let isValid = true;
                
                inputs.forEach(input => {
                    if(!input.value.trim()) {
                        input.classList.add('error');
                        isValid = false;
                    } else {
                        input.classList.remove('error');
                    }
                    
                    // Validación específica para email
                    if(input.type === 'email' && input.value.trim()) {
                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if(!emailRegex.test(input.value)) {
                            input.classList.add('error');
                            isValid = false;
                        }
                    }
                });
                
                if(!isValid) {
                    currentStep.querySelector('.form-group .error').scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });
                }
                
                return isValid;
            }
            
            // Función para actualizar la barra de progreso
            function updateProgress() {
                progressSteps.forEach((step, index) => {
                    if(index <= currentStep) {
                        step.classList.add('active');
                    } else {
                        step.classList.remove('active');
                    }
                });
            }
            
            // Evento para enviar el formulario
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                if(validateStep(currentStep)) {
                    // Aquí iría la lógica para enviar el formulario
                    alert('Formulario enviado correctamente. Nos pondremos en contacto contigo en breve.');
                    form.reset();
                    currentStep = 0;
                    showStep(currentStep);
                    updateProgress();
                }
            });
            
            // Quitar clase error al escribir
            form.querySelectorAll('input, textarea, select').forEach(input => {
                input.addEventListener('input', function() {
                    if(this.classList.contains('error')) {
                        this.classList.remove('error');
                    }
                });
            });
        });
    </script>
</body>
</html>